<!DOCTYPE html>
<html lang="ru">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Валидация Email</title>
   <style>
       body {
           font-family: Arial, sans-serif;
           display: flex;
           flex-direction: column;
           align-items: center;
           justify-content: center;
           height: 100vh;
           margin: 0;
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
       }
       .container {
           text-align: center;
           background: white;
           padding: 40px;
           border-radius: 20px;
           box-shadow: 0 8px 25px rgba(0,0,0,0.2);
           max-width: 500px;
           width: 90%;
       }
       .input-group {
           position: relative;
           margin: 30px 0;
       }
       input {
           width: 100%;
           padding: 15px;
           font-size: 18px;
           border: 3px solid #ddd;
           border-radius: 10px;
           transition: all 0.3s;
           box-sizing: border-box;
       }
       input:focus {
           outline: none;
           border-color: #667eea;
       }
       input.valid {
           border-color: #00b894;
           background-color: #f0fff4;
       }
       input.invalid {
           border-color: #ff7675;
           background-color: #fff5f5;
       }
       button {
           padding: 15px 30px;
           font-size: 18px;
           background: linear-gradient(135deg, #667eea, #764ba2);
           color: white;
           border: none;
           border-radius: 10px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: bold;
           width: 100%;
       }
       button:hover {
           transform: scale(1.02);
           box-shadow: 0 5px 15px rgba(0,0,0,0.2);
       }
       .result {
           margin-top: 30px;
           padding: 20px;
           border-radius: 10px;
           font-size: 18px;
           font-weight: bold;
           min-height: 60px;
           display: flex;
           align-items: center;
           justify-content: center;
           transition: all 0.3s;
       }
       .valid-result {
           background-color: #d4edda;
           color: #155724;
           border: 3px solid #c3e6cb;
       }
       .invalid-result {
           background-color: #f8d7da;
           color: #721c24;
           border: 3px solid #f5c6cb;
       }
       .info-result {
           background-color: #e2e3e5;
           color: #383d41;
           border: 3px solid #d6d8db;
       }
       .validation-rules {
           text-align: left;
           margin-top: 30px;
           padding: 20px;
           background: #f8f9fa;
           border-radius: 10px;
           border-left: 4px solid #667eea;
       }
       .validation-rules h3 {
           margin-top: 0;
           color: #333;
       }
       .rule {
           margin: 10px 0;
           padding-left: 20px;
           position: relative;
       }
       .rule:before {
           content: "•";
           position: absolute;
           left: 0;
           color: #667eea;
           font-weight: bold;
       }
       .valid .rule:before {
           color: #00b894;
       }
       .examples {
           display: grid;
           grid-template-columns: 1fr 1fr;
           gap: 10px;
           margin-top: 20px;
       }
       .example {
           padding: 10px;
           border-radius: 5px;
           font-size: 14px;
           text-align: center;
       }
       .valid-example {
           background-color: #d4edda;
           color: #155724;
       }
       .invalid-example {
           background-color: #f8d7da;
           color: #721c24;
       }
   </style>
</head>
<body>
   <div class="container">
       <h1>Валидация Email</h1>
       <p>Проверьте корректность email-адреса:</p>
       
       <div class="input-group">
           <input type="text" id="emailInput" placeholder="example@domain.com" 
                  oninput="validateEmailLive()" onkeypress="handleKeyPress(event)">
       </div>
       
       <button onclick="validateEmail()">Проверить Email</button>
       
       <div class="result info-result" id="result">
           Введите email для проверки
       </div>
       
       <div class="validation-rules">
           <h3>Правила валидного email:</h3>
           <div class="rule" id="rule1">Должен содержать символ @</div>
           <div class="rule" id="rule2">Должен иметь домен (часть после @)</div>
           <div class="rule" id="rule3">Должен иметь точку в домене</div>
           <div class="rule" id="rule4">Не должен содержать пробелов</div>
       </div>
       
       <div class="examples">
           <div class="example valid-example">user@mail.com</div>
           <div class="example valid-example">name.surname@company.org</div>
           <div class="example invalid-example">usermail.com</div>
           <div class="example invalid-example">user@mail</div>
       </div>
   </div>

   <script>
       function validateEmail() {
           const email = document.getElementById('emailInput').value.trim();
           const result = document.getElementById('result');
           
           if (!email) {
               result.textContent = 'Пожалуйста, введите email';
               result.className = 'result info-result';
               return;
           }
           
           const isValid = checkEmailValidity(email);
           
           if (isValid) {
               result.textContent = '✓ Email корректный!';
               result.className = 'result valid-result';
           } else {
               result.textContent = '✗ Email некорректный!';
               result.className = 'result invalid-result';
           }
           
           // Анимация
           result.style.animation = 'none';
           setTimeout(() => {
               result.style.animation = 'pop 0.5s';
           }, 10);
       }
       
       function validateEmailLive() {
           const email = document.getElementById('emailInput').value.trim();
           const input = document.getElementById('emailInput');
           
           if (!email) {
               input.className = '';
               updateRules([]);
               return;
           }
           
           const validation = checkEmailRules(email);
           const isValid = validation.isValid;
           const passedRules = validation.passedRules;
           
           input.className = isValid ? 'valid' : 'invalid';
           updateRules(passedRules);
       }
       
       function checkEmailValidity(email) {
           const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
           return emailRegex.test(email);
       }
       
       function checkEmailRules(email) {
           const rules = [
               { id: 'rule1', test: email.includes('@') },
               { id: 'rule2', test: email.split('@')[1] && email.split('@')[1].length > 0 },
               { id: 'rule3', test: email.includes('.') && email.split('@')[1] && email.split('@')[1].includes('.') },
               { id: 'rule4', test: !email.includes(' ') }
           ];
           
           const passedRules = rules.filter(rule => rule.test).map(rule => rule.id);
           const isValid = rules.every(rule => rule.test);
           
           return { isValid, passedRules };
       }
       
       function updateRules(passedRules) {
           const rules = ['rule1', 'rule2', 'rule3', 'rule4'];
           rules.forEach(ruleId => {
               const ruleElement = document.getElementById(ruleId);
               if (passedRules.includes(ruleId)) {
                   ruleElement.style.color = '#00b894';
                   ruleElement.style.fontWeight = 'bold';
               } else {
                   ruleElement.style.color = '#721c24';
                   ruleElement.style.fontWeight = 'normal';
               }
           });
       }
       
       function handleKeyPress(event) {
           if (event.key === 'Enter') {
               validateEmail();
           }
       }
       
       // Добавляем CSS для анимации
       const style = document.createElement('style');
       style.textContent = `
           @keyframes pop {
               0% { transform: scale(0.9); opacity: 0; }
               100% { transform: scale(1); opacity: 1; }
           }
       `;
       document.head.appendChild(style);
   </script>
</body>
</html>   